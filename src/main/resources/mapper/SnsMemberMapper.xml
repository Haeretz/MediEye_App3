<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.dgall.medieye_app3.mapper.SnsMemberMapper">

<select id="getSnsMember" parameterType="SnsMember" resultType="SnsMember">
SELECT 
	sns_id,
	member_id,
	email,
	sns_type,
	use_yn,
	update_date,
	create_date
FROM sns_member
	<where>
		<if test="snsId != null">
			sns_id = #{snsId}
		</if>
		<if test="email != null">
			AND email = #{email}
		</if>
	</where>
</select>

<insert id="insertSnsMember" parameterType="SnsMember">
insert into sns_member
(sns_id,
	email,
	sns_type,
	member_id,
	use_yn,
	update_date,
	create_date)
values(
	#{snsId},
	#{email},
	#{snsType},
	#{memberId},
	#{useYn},
	now(),
	now())
</insert>

<update id="updateSnsMember" parameterType="SnsMember">
	update sns_member
	set
		<if test="memberId != null">
		member_id = #{memberId},
		</if>
		<if test="useYn != null">
		use_yn = #{useYn},
		</if>
		update_date = now()
	<where>
		sns_id = #{snsId}
	</where>
</update>

</mapper>

        
       